{"ast":null,"code":"class Api {\n  constructor({\n    baseUrl,\n    headers\n  }) {\n    this.baseUrl = baseUrl;\n    this.headers = headers;\n  } // Обработка ответа с сервера\n\n\n  _getResponse(response) {\n    if (response.ok) {\n      return response.json();\n    }\n\n    return Promise.reject(`Ошибка: ${response.status}`);\n  } // Получение данных пользователя(моих)\n\n  /*getUserInfo() {\n    return fetch(this.baseUrl + 'users/me', {\n      // headers: this.headers\n      headers: {\n        ...this.headers,\n        'Authorization': `Bearer ${localStorage.getItem('jwt')}`,\n      }\n    }).then(this._getResponse);\n  }\n  */\n\n\n  getUserInfo(id) {\n    return fetch(this.baseUrl + 'users/${id}', {\n      // headers: this.headers\n      headers: { ...this.headers,\n        'Authorization': `Bearer ${localStorage.getItem('jwt')}`\n      }\n    }).then(this._getResponse);\n  } // Получение данных всех карточек\n\n\n  getCardsList() {\n    return fetch(this.baseUrl + 'cards', {\n      // либо `${this.baseUrl}cards` и в результате конкатенации получается https://mesto.nomoreparties.co/v1/cohort-26/cards\n      // headers: this.headers\n      headers: { ...this.headers,\n        'Authorization': `Bearer ${localStorage.getItem('jwt')}`\n      }\n    }).then(this._getResponse);\n  } // Добавление карточек\n\n\n  postAddCard({\n    card_name,\n    card_image_link\n  }) {\n    return fetch(`${this.baseUrl}cards`, {\n      method: 'POST',\n      body: JSON.stringify({\n        name: card_name,\n        link: card_image_link\n      }),\n      // headers: this.headers\n      headers: { ...this.headers,\n        'Authorization': `Bearer ${localStorage.getItem('jwt')}`\n      }\n    }).then(this._getResponse);\n  } // Редактирование профиля\n\n\n  patchUserInfo({\n    userName,\n    userDescription\n  }) {\n    return fetch(this.baseUrl + 'users/me', {\n      //`${this.baseUrl}users/me`\n      method: 'PATCH',\n      body: JSON.stringify({\n        name: userName,\n        about: userDescription\n      }),\n      // headers: this.headers\n      headers: { ...this.headers,\n        'Authorization': `Bearer ${localStorage.getItem('jwt')}`\n      }\n    }).then(this._getResponse);\n  } // Смена аватара\n\n\n  patchAvatarUser({\n    avatarUrl\n  }) {\n    return fetch(this.baseUrl + 'users/me/avatar', {\n      //`${this.baseUrl}users/me/avatar`\n      method: 'PATCH',\n      body: JSON.stringify({\n        avatar: avatarUrl\n      }),\n      // headers: this.headers\n      headers: { ...this.headers,\n        'Authorization': `Bearer ${localStorage.getItem('jwt')}`\n      }\n    }).then(this._getResponse);\n  } // Удаление карточки\n\n\n  deleteCard(id) {\n    return fetch(`${this.baseUrl}cards/${id}`, {\n      method: 'DELETE',\n      // headers: this.headers\n      headers: { ...this.headers,\n        'Authorization': `Bearer ${localStorage.getItem('jwt')}`\n      }\n    }).then(this._getResponse);\n  } // Поставить лайк\n\n  /*putLikeCard(id) {\n    return fetch(`${this.baseUrl}cards/likes/${id}`, {\n      method: 'PUT',\n      headers: this.headers\n    })\n    .then(this._getResponse);\n  }\n   // Удалить лайк:\n  //--------- 2 вариант рабочий----------\n  deliteLikeCard(id) {\n    return fetch(`${this.baseUrl}cards/${id}/likes`, {\n      method: 'DELETE',\n      headers: this.headers\n    })\n    .then(this._getResponse);\n  }*/\n  //-------- 1 вариант рабочий---------\n\n\n  changeLikeCardStatus(id, isLiked) {\n    return fetch(`${this.baseUrl}cards/${id}/likes`, {\n      method: isLiked ? 'DELETE' : 'PUT',\n      //если карточка уже лайкнута(черный лайк), то удалить лайк, иначе поставить\n      // headers: this.headers\n      headers: { ...this.headers,\n        'Authorization': `Bearer ${localStorage.getItem('jwt')}`\n      }\n    }).then(this._getResponse);\n  }\n\n}\n\nconst api = new Api({\n  baseUrl: 'http://localhost:3005/',\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\nexport default api; // baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-26/',\n// authorization: null,\n// authorization: 'd11963a5-3631-4d4e-b873-aed64d959e3c',\n//authorization: `Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MWJkMjZjYmMwMjdiOTZkODNiNGRhYTYiLCJpYXQiOjE2Mzk3ODcwNzIsImV4cCI6MTY0MDM5MTg3Mn0.7OxUJnliCmyvNERrzT6ZUFuKOB-jVOYHXneoBliIUhI`, \n//'Authorization': `Bearer` + JSON.parse(localStorage.getItem('token')),\n// 'Authorization': `Bearer ${localStorage.getItem('jwt')}`,","map":{"version":3,"sources":["/Users/svetlana/it/react-mesto-api-full/frontend/src/utils/Api.js"],"names":["Api","constructor","baseUrl","headers","_getResponse","response","ok","json","Promise","reject","status","getUserInfo","id","fetch","localStorage","getItem","then","getCardsList","postAddCard","card_name","card_image_link","method","body","JSON","stringify","name","link","patchUserInfo","userName","userDescription","about","patchAvatarUser","avatarUrl","avatar","deleteCard","changeLikeCardStatus","isLiked","api"],"mappings":"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","sourcesContent":["class Api {\n  constructor ({ baseUrl, headers }) {\n    this.baseUrl = baseUrl;\n    this.headers = headers;\n  }\n\n  // Обработка ответа с сервера\n  _getResponse(response) {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(`Ошибка: ${response.status}`);\n  }\n\n  // Получение данных пользователя(моих)\n  /*getUserInfo() {\n    return fetch(this.baseUrl + 'users/me', {\n      // headers: this.headers\n      headers: {\n        ...this.headers,\n        'Authorization': `Bearer ${localStorage.getItem('jwt')}`,\n      }\n    }).then(this._getResponse);\n  }\n  */\n\n  getUserInfo(id) {\n    return fetch(this.baseUrl + 'users/${id}', {\n      // headers: this.headers\n      headers: {\n        ...this.headers,\n        'Authorization': `Bearer ${localStorage.getItem('jwt')}`,\n      }\n    }).then(this._getResponse);\n  }\n\n  // Получение данных всех карточек\n  getCardsList() {\n    return fetch(this.baseUrl + 'cards', { // либо `${this.baseUrl}cards` и в результате конкатенации получается https://mesto.nomoreparties.co/v1/cohort-26/cards\n      // headers: this.headers\n      headers: {\n        ...this.headers,\n        'Authorization': `Bearer ${localStorage.getItem('jwt')}`,\n      }\n    }).then(this._getResponse);\n  }\n\n  // Добавление карточек\n  postAddCard({ card_name, card_image_link }) {\n    return fetch(`${this.baseUrl}cards`, {\n      method: 'POST',\n      body: JSON.stringify({\n        name: card_name,\n        link: card_image_link\n      }),\n      // headers: this.headers\n      headers: {\n        ...this.headers,\n        'Authorization': `Bearer ${localStorage.getItem('jwt')}`,\n      }\n    }).then(this._getResponse);\n  }\n\n  // Редактирование профиля\n  patchUserInfo({userName, userDescription}) {\n    return fetch(this.baseUrl + 'users/me', { //`${this.baseUrl}users/me`\n      method: 'PATCH',\n      body: JSON.stringify({\n        name: userName,\n        about: userDescription,\n      }),\n      // headers: this.headers\n      headers: {\n        ...this.headers,\n        'Authorization': `Bearer ${localStorage.getItem('jwt')}`,\n      }\n    })\n    .then(this._getResponse);\n  }\n\n  // Смена аватара\n  patchAvatarUser({ avatarUrl }) {\n    return fetch(this.baseUrl + 'users/me/avatar', { //`${this.baseUrl}users/me/avatar`\n      method: 'PATCH',\n      body: JSON.stringify({\n        avatar: avatarUrl\n      }),\n      // headers: this.headers\n      headers: {\n        ...this.headers,\n        'Authorization': `Bearer ${localStorage.getItem('jwt')}`,\n      }\n    })\n    .then(this._getResponse);\n  }\n\n  // Удаление карточки\n  deleteCard(id) {\n    return fetch(`${this.baseUrl}cards/${id}`, {\n      method: 'DELETE',\n      // headers: this.headers\n      headers: {\n        ...this.headers,\n        'Authorization': `Bearer ${localStorage.getItem('jwt')}`,\n      }\n    })\n    .then(this._getResponse);\n  }\n\n  // Поставить лайк\n  /*putLikeCard(id) {\n    return fetch(`${this.baseUrl}cards/likes/${id}`, {\n      method: 'PUT',\n      headers: this.headers\n    })\n    .then(this._getResponse);\n  }\n\n  // Удалить лайк:\n  //--------- 2 вариант рабочий----------\n  deliteLikeCard(id) {\n    return fetch(`${this.baseUrl}cards/${id}/likes`, {\n      method: 'DELETE',\n      headers: this.headers\n    })\n    .then(this._getResponse);\n  }*/\n\n  //-------- 1 вариант рабочий---------\n  changeLikeCardStatus(id, isLiked) {\n    return fetch(`${this.baseUrl}cards/${id}/likes`, {\n      method: isLiked ? 'DELETE' : 'PUT', //если карточка уже лайкнута(черный лайк), то удалить лайк, иначе поставить\n      // headers: this.headers\n      headers: {\n        ...this.headers,\n        'Authorization': `Bearer ${localStorage.getItem('jwt')}`,\n      }\n    })\n    .then(this._getResponse);\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'http://localhost:3005/',\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\nexport default api;\n\n// baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-26/',\n// authorization: null,\n    // authorization: 'd11963a5-3631-4d4e-b873-aed64d959e3c',\n    //authorization: `Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI2MWJkMjZjYmMwMjdiOTZkODNiNGRhYTYiLCJpYXQiOjE2Mzk3ODcwNzIsImV4cCI6MTY0MDM5MTg3Mn0.7OxUJnliCmyvNERrzT6ZUFuKOB-jVOYHXneoBliIUhI`, \n    \n    //'Authorization': `Bearer` + JSON.parse(localStorage.getItem('token')),\n    // 'Authorization': `Bearer ${localStorage.getItem('jwt')}`,"]},"metadata":{},"sourceType":"module"}