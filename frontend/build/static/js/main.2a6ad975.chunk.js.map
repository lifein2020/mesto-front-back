{"version":3,"sources":["utils/Api.js","contexts/CurrentUserContext.js","images/kusto.jpg","components/PopupWithForm/PopupWithForm.js","components/EditProfilePopup/EditProfilePopup.js","components/EditAvatarPopup/EditAvatarPopup.js","components/AddPlacePopup/AddPlacePopup.js","components/ImagePopup/ImagePopup.js","components/Header/Header.js","images/logo.png","components/Card/Card.js","components/Main/Main.js","images/pen.png","components/Footer/Footer.js","components/Register/Register.js","components/Login/Login.js","components/InfoTooltip/InfoTooltip.js","components/ProtectedRoute/ProtectedRoute.js","utils/auth.js","images/success.svg","images/fail.svg","components/App/App.js","reportWebVitals.js","index.js"],"names":["api","baseUrl","headers","this","response","ok","json","Promise","reject","status","jwt","localStorage","getItem","fetch","_getHeaders","then","_getResponse","card_name","card_image_link","method","body","JSON","stringify","name","link","userName","userDescription","about","avatarUrl","avatar","id","isLiked","CurrentUserContext","React","createContext","PopupWithForm","props","className","isOpen","type","onClick","onClose","title","action","autoComplete","onSubmit","children","button","titleButton","EditProfilePopup","onUpdateUser","useState","setUserName","setUserDescription","currentUser","useContext","useEffect","e","preventDefault","required","placeholder","minLength","maxLength","value","onChange","target","EditAvatarPopup","onUpdateAvatar","urlInput","useRef","current","ref","AddPlacePopup","onAddPlace","cardName","setCardName","cardImage","setCardImage","ImagePopup","card","active","src","alt","Header","onSignOut","email","path","to","exact","Card","isOwn","owner","_id","cardDeleteButtonClassName","likes","some","i","cardLikeButtonClassName","likeCounter","length","onCardClick","onCardDelete","onCardLike","Main","onEditAvatar","onEditProfile","cards","map","onLikeClick","onDeleteClick","Footer","Register","onRegister","userEmail","setUserEmail","userPassword","setUserPassword","password","Login","onLogin","InfoTooltip","message","image","text","ProtectedRoute","Component","component","loggedIn","BASE_URL","getResponse","App","isEditProfileOpen","setIsEditProfileOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarOpen","setIsEditAvatarOpen","selectedCard","setIsSelectedCard","isPreviewPopupOpened","setIsPreviewPopupOpened","isInfoTooltipOpen","setIsInfoTooltipOpen","setMessage","handleAllPopupsClose","kusto","setCurrentUser","setCards","closeByEscape","key","document","addEventListener","removeEventListener","closeByOverlay","classList","contains","setLoggedIn","history","useHistory","authUser","token","res","catch","err","console","log","push","all","getUserInfo","getCardsList","userData","cardsArray","data","Provider","removeItem","changeLikeCardStatus","newCard","newCards","c","deleteCard","state","filter","auth","dataReg","statusCode","success","fail","dataLog","setItem","patchUserInfo","dataProfile","postAddCard","patchAvatarUser","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2a6ad975.chunk.js","sourcesContent":["class Api {\n  constructor ({ baseUrl, headers }) {\n    this.baseUrl = baseUrl;\n    this.headers = headers;\n  }\n\n  // Handling of responses from server\n  _getResponse(response) {\n    if (response.ok) {\n      return response.json();\n    }\n    return Promise.reject(`Ошибка: ${response.status}`);\n  }\n\n  _getHeaders() {\n    let jwt = localStorage.getItem('jwt');\n    return { ...this.headers, \n             'Authorization': `Bearer ${jwt}`\n           }\n  }\n\n  // Getting user data (mine)\n  getUserInfo() {\n    return fetch(this.baseUrl + 'users/me', {\n      headers: this._getHeaders(),\n    }).then(this._getResponse);\n  }\n\n  getCardsList() {\n    return fetch(this.baseUrl + 'cards', { \n      headers: this._getHeaders(),\n    }).then(this._getResponse);\n  }\n\n  // Add cards\n  postAddCard({ card_name, card_image_link }) {\n    return fetch(`${this.baseUrl}cards`, {\n      method: 'POST',\n      body: JSON.stringify({\n        name: card_name,\n        link: card_image_link\n      }),\n      headers: this._getHeaders(),\n    })\n    .then(this._getResponse);\n  }\n\n  // Edit the profile\n  patchUserInfo({userName, userDescription}) {\n    return fetch(this.baseUrl + 'users/me', { //`${this.baseUrl}users/me`\n      method: 'PATCH',\n      body: JSON.stringify({\n        name: userName,\n        about: userDescription,\n      }),\n      headers: this._getHeaders(),\n    })\n    .then(this._getResponse);\n  }\n\n  // Change the avatar\n  patchAvatarUser({ avatarUrl }) {\n    return fetch(this.baseUrl + 'users/me/avatar', { //`${this.baseUrl}users/me/avatar`\n      method: 'PATCH',\n      body: JSON.stringify({\n        avatar: avatarUrl\n      }),\n      headers: this._getHeaders(),\n    })\n    .then(this._getResponse);\n  }\n\n  // Delete card\n  deleteCard(id) {\n    return fetch(`${this.baseUrl}cards/${id}`, {\n      method: 'DELETE',\n      headers: this._getHeaders(),\n    })\n    .then(this._getResponse);\n  }\n\n  // Поставить лайк\n  changeLikeCardStatus(id, isLiked) {\n    return fetch(`${this.baseUrl}cards/${id}/likes`, {\n      method: isLiked ? 'DELETE' : 'PUT', // if the card is already liked (black like), then delete the like, otherwise put\n      headers: this._getHeaders(),\n    })\n    .then(this._getResponse);\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'http://localhost:3005/',\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\n\nexport default api;","import React from 'react';\nexport const CurrentUserContext = React.createContext();","export default __webpack_public_path__ + \"static/media/kusto.91fa6d23.jpg\";","function PopupWithForm(props) { // ({ name, isOpen, onClose, title, id, onSubmit, children, button, titleButton })\n    return (\n        <div className={props.isOpen ? `popup popup_type_${props.name} popup_is-opened` : `popup popup_type_${props.name}`}>\n            <div className={`popup__container popup__container_${props.name}`}>\n                <button type=\"button\" className={`popup__close popup__close_${props.name}`}  onClick={props.onClose}></button>\n                <h2 className=\"popup__title\">{props.title}</h2>\n                <form \n                    name={props.name} \n                    id={props.id} \n                    className={`popup__form popup__form_${props.name}`} \n                    action=\"#\" \n                    autoComplete=\"off\" \n                    //noValidate\n                    onSubmit={props.onSubmit}\n                >\n                    {props.children}\n                    <button type=\"submit\" className={`popup__button popup__${props.button}`}>{props.titleButton}</button>\n                </form>\n            </div>\n        </div>\n    );\n  }\n\n  export default PopupWithForm;\n","import {useState, useEffect} from 'react';\nimport React from 'react';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\nimport PopupWithForm from '../PopupWithForm/PopupWithForm';\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser}) {\n\n    // managed components (input)\n    const [userName, setUserName] = useState(''); \n    function handleChangeName(e) {\n        setUserName(e.target.value);\n    }\n    const [userDescription, setUserDescription] = useState(''); \n    function handleChangeDescription(e) {\n        setUserDescription(e.target.value);\n    }\n\n    // To substitute the current values into the form:\n    // 1. subscribe to the context\n    const currentUser = React.useContext(CurrentUserContext); \n\n    //2. after loading the current user from the API, his data will be used in managed components\n    useEffect(() => {\n        setUserName(currentUser.name);\n        setUserDescription(currentUser.about);\n    }, [currentUser, isOpen]); // we also need to monitor isOpen (the state of opening) in order to insert user data into the inputs, otherwise, if we delete information from the inputs and simply close the popup, then the next time we open the inputs will be empty (without user data)\n\n    function handleSubmit(e) {\n        // Prevent the browser from navigating to the URL of the form\n        e.preventDefault();\n        // Passing the values of managed beans to an external handler\n        onUpdateUser({ userName, userDescription });\n    }\n\n    return (\n        <PopupWithForm\n            name=\"edit\"\n            id=\"formEdit\"\n            title=\"Edit profile\"\n            button=\"save\"\n            titleButton=\"Save\"\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n        >\n            <input\n            type=\"text\"\n            className=\"popup__input popup__input_user_name\"\n            id=\"name-input\"\n            name=\"name\"\n            required\n            placeholder=\"Name\"\n            minLength=\"2\"\n            maxLength=\"40\"\n            value={userName || ''}\n            onChange={handleChangeName}\n            />\n            <span\n            className=\"popup__error name-input-error\"\n            >\n            </span>\n            <input\n            type=\"text\"\n            className=\"popup__input popup__input_user_job\"\n            id=\"job-input\"\n            name=\"job\"\n            required\n            placeholder=\"Activity\"\n            minLength=\"2\"\n            maxLength=\"200\"\n            value={userDescription || ''}\n            onChange={handleChangeDescription}\n            />\n            <span\n            className=\"popup__error job-input-error\"\n            >\n            </span>\n        </PopupWithForm>  \n    )\n}\n\nexport default EditProfilePopup;\n\n\n\n\n","import { useRef, useEffect } from 'react';\nimport PopupWithForm from '../PopupWithForm/PopupWithForm';\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n\n    const urlInput = useRef();\n\n    // set the default link in the input field when opening the popup\n    useEffect(() => {\n        const currentUrlInput = urlInput.current;\n        currentUrlInput.value = '';\n    }, [isOpen]) \n\n    function handleSubmit(e) {\n        e.preventDefault();\n    \n        onUpdateAvatar({\n          avatarUrl: urlInput.current.value /* the value of the input received using the ref */\n        });\n        // clear the input after successfully adding information\n        urlInput.current.value = '';\n      } \n\n    return (\n        <PopupWithForm\n            name=\"avatar\"\n            id=\"formAvatar\"\n            title=\"Update avatar\"\n            button=\"save\"\n            titleButton=\"Save\"\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n        >\n            <input\n            type=\"url\"\n            className=\"popup__input popup__input_avatar_link\"\n            id=\"avatar-link-input\"\n            name=\"avatar_link\"\n            autoComplete=\"on\"\n            required\n            placeholder=\"Link to the avatar\"\n            //value=\"https://somewebsite.com/someimage.jpg\"\n            ref={urlInput}\n            />\n            <span\n            className=\"popup__error avatar-link-input-error\"\n            >\n            </span>\n        </PopupWithForm>\n    )\n}\n\nexport default EditAvatarPopup;\n\n","import {useState} from 'react';\nimport React from 'react'\nimport PopupWithForm from '../PopupWithForm/PopupWithForm';\n\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace }) {\n\n    // managed components (input)\n    const [cardName, setCardName] = useState('');\n    function handleChangeCardName(e) {\n        setCardName(e.target.value);\n    }\n\n    const [cardImage, setCardImage] = useState('');\n    function handleChangeCardImage(e) {\n        setCardImage(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        onAddPlace({\n            card_name: cardName, \n            card_image_link : cardImage,\n        });\n        // clearing the inputs after successfully adding information\n        setCardName('');\n        setCardImage('');\n    }\n\n    return (\n        <PopupWithForm\n            name=\"add-card\"\n            id=\"formAdd\"\n            title=\"New place\"\n            button=\"button_disabled\"\n            titleButton=\"Create\"\n            isOpen={isOpen}\n            onClose={onClose}\n            onSubmit={handleSubmit}\n        >\n            <input\n                type=\"text\"\n                className=\"popup__input popup__input_card_name\"\n                id=\"card-name-input\"\n                name=\"card_name\"\n                autoComplete=\"off\"\n                required\n                placeholder=\"Title\"\n                minLength=\"2\"\n                maxLength=\"30\"\n                value={cardName}\n                onChange={handleChangeCardName}\n            />\n            <span\n                className=\"popup__error card-name-input-error\"\n            >\n            </span>\n            <input\n                type=\"url\"\n                className=\"popup__input popup__input_card_image-link\"\n                id=\"card-image-link-input\"\n                name=\"card_image_link\"\n                autoComplete=\"on\"\n                required\n                placeholder=\"Link to the picture\"\n                value={cardImage}\n                onChange={handleChangeCardImage}\n            />\n            <span\n                className=\"popup__error card-image-link-input-error\"\n            >\n            </span>\n        </PopupWithForm>\n    )\n}\n\nexport default AddPlacePopup;\n\n","function ImagePopup({card, onClose, active}) {\n    return (\n        <div className={(card && active)? \"popup popup_type_image popup_is-opened\" : \"popup popup_type_image\"}>\n            <div className=\"popup__container-image\">\n                <button type=\"button\" className=\"popup__close popup__close_image\" onClick={onClose}></button>\n                <img className=\"popup__image\" src={card.link} alt={card.name} />\n                <h2 className=\"popup__title-image\">{card.name}</h2>\n            </div>\n        </div>\n    );\n}\n\nexport default ImagePopup;","import logo from '../../images/logo.png';\nimport { Route, Link } from 'react-router-dom';\n\nfunction Header({ onSignOut, email }) {\n\n    function handleSignOut() {\n        onSignOut();\n    }\n\n    return (\n        <header className=\"header\">\n            <img src={logo} className=\"header__logo\" alt=\"Лототип проекта Место\" />\n            <Route path=\"/sign-up\">\n                <Link className=\"header__sign-link\" to=\"sign-in\">Sign in</Link>\n            </Route>\n            <Route path=\"/sign-in\">\n                <Link className=\"header__sign-link\" to=\"sign-up\">Sign up</Link>\n            </Route>\n            <Route exact path=\"/\">\n                <div className=\"header__container\">\n                    <p className=\"header__user-email\">{ email }</p>\n                    <button className=\"header__logout\" onClick={handleSignOut}>Sign out</button>\n                </div>\n            </Route>\n        </header>\n    );\n}\n    \nexport default Header;\n\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAI4AAAAhCAMAAAA4aWMBAAAAPFBMVEUAAAD////////////////////////////////////////////////////////////////////////////YSWgTAAAAE3RSTlMAIJ9AgN+/72CQEAEwz69BcFBvIc9UfgAAAwBJREFUWMPFl4tu6yAMhm3A3BJoSN7/XU/cAiZbtImzqfulrIlXw4cvhML7tFprs4c7mQxv18NpXUjDjXCFt+tBALApMAh8RaM8B0YFhFIAdr55kwQnLFbDeS0p6GyWELTJYAyYXLyL8D49nPeBsOE4jsWSN4B44vDfJb0jZ4JjjGOU11UoBYSVSCHjrIrS+V/Qpz5RrWyNv58skxsOTxIsl/FGJ85CLysep9xHV2Ir/j5OdHpRAR6HXizCbpeMgIzDuVuPinN+XuSPeRw0xuiv951XZ2FySmkwiU6iQkQe9h08kVUNx1497X/g6NPDwA9VcY71avtjnOtA6s9xLjsQ/S2OO6/tWshuxEHDgEmNfDqwjZQGVrQ28aO11nen9HTS0zjKXYo58TQDzn40qRbDmAebxFjSvoRuyDiLY8ZeX8+HMOCoQ5RiIxbZG5xldCKcxIlMMBYyCg6jOrPi6ql/y/Mk+4n2tHmAqPXGA2mtsTrxU3VKkzhguZjFkKHjoCwPqQXRdljseX60yLRgaXEykzhaiplXXgRHDXnULTx0IlZb8Wv8iLOoet/sbhIHXA1pnUpwaKxyWzHoZhsYcdywcyyWFzSJ04uZI+AFZ72Emtsl1k/yeItTnTI0bRz5SZzoniNUDsFhumSbWlTQHaykPN7hlHorcGoSBzIvvD0Kjj9Ew16tqbe+/4zjL/HAaRzZ43kk/T0OoOlANn6Pk2dxnr3eCllwyrOU7j1LsE+efJesIFmcjk6rOF1nFxyUkW+9DfPEjiNj2h+V8quYba4U0uhs/cq/tvGvNnrv4vYgOGEczGZTnmduRc2WR5xQCcKHHZpgHkcP58LrS8LVdjZD2aco7wBs/WzHl4SXL/hJHDkhJxAcCZrSiMX2xuIpqCDgTt09OjaagBye6rRq4yQ4kzibrAluDxg9BasbTCSxY20/P2BAXx/BFUfmYbnSdlrqNosgFSODiZOd+fkYlVIttV6pTW5V7Mi7ZdK8DwP7nE68FDSItEqUzOjkKGiY0D+3WkqFJF6wAgAAAABJRU5ErkJggg==\"","import React from 'react';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\n\nfunction Card(props) {\n    // Subscribe to contextCurrentUserContext\n    const currentUser = React.useContext(CurrentUserContext);\n\n    // Show delete icon:\n    // 1) determine if we are the owner of the current card\n    const isOwn = props.card.owner === currentUser._id;\n   \n    // 2) create a variable, which we then set in `className` for the delete button\n    const cardDeleteButtonClassName = (\n     `element__trash ${isOwn ? 'element__trash_visible' : 'element__trash'}` \n    ); \n  \n    // Determine if we have already \"liked\" this card:\n    // 1) determine if the card has a like set by the current user\n    const isLiked = props.card.likes.some(i => i === currentUser._id);\n\n    // 2) create a variable, which we will then set in `className` for the like button\n    const cardLikeButtonClassName = (\n        `element__like ${isLiked ? 'element__like_active' : 'element__like'}`\n    );    \n\n    const likeCounter =  props.card.likes.length;\n\n    function handleCardClick() {\n        props.onCardClick(props.card);\n      } \n\n    function handleLikeClick() {\n        props.onCardLike(props.card);\n    }\n\n    function handleDeleteClick() {\n        props.onCardDelete(props.card);\n    }\n\n    return (\n            <article className=\"element\">\n                <img className=\"element__image\" src={props.card.link} alt={props.card.name} onClick={handleCardClick} />\n                <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteClick}></button>\n                <div className=\"element__text\">\n                    <h2 className=\"element__title\">{props.card.name}</h2>\n                    <div className=\"element__group\">\n                        <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick}></button>\n                        <div className=\"element__count\">{likeCounter}</div>\n                    </div>\n                </div>\n            </article>\n    );\n}\n    \nexport default Card;\n\n","import React from 'react';\nimport pen from '../../images/pen.png';\nimport Card from '../Card/Card';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\n\nfunction Main(props) {\n    const currentUser = React.useContext(CurrentUserContext);\n\n    return(\n        <main className=\"content\">\n            <nav className=\"profile\">\n                <div className=\"profile__container\">\n                    <img className=\"profile__avatar\" src={currentUser.avatar} alt={currentUser.name} />\n                    <div className=\"profile__overlay\" onClick={props.onEditAvatar}>\n                        <img className=\"profile__pen\" src={pen} alt=\"Pencil\" />\n                    </div>\n                </div>\n                <div className=\"profile-info\">\n                    <div className=\"profile-info__container\">\n                        <h1 className=\"profile-info__name\">{currentUser.name}</h1>\n                        <button className=\"profile-info__edit-button\" type=\"button\" name=\"send\" onClick={props.onEditProfile}></button>\n                    </div>\n                    <p className=\"profile-info__activity\">{currentUser.about}</p>\n                </div>\n                <button className=\"profile__add-button\" type=\"button\" onClick={props.onAddPlace}></button>\n            </nav>\n\n            <section className=\"elements\">\n                {props.cards.map(card => {\n                        return (\n                            <Card \n                                key={card._id} \n                                card={card} \n                                onCardClick={props.onCardClick} \n                                onCardLike={props.onLikeClick} \n                                onCardDelete={props.onDeleteClick}\n                            />\n                        )\n                    })}\n            </section>\n        </main>\n    );\n}\n\nexport default Main;\n\n\n\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAAJ1BMVEUAAAD///////////////////////////////////////////////+uPUo5AAAADHRSTlMAMO/fIBDPwJBvQH+Dp3+dAAAAPklEQVQI12OAAfEAGItRJxXGFDpzHC54RhEueEiAAkFnuCCLDbGCDGFwQU7WJJjgmg2BMIf2nIR7pGIBjAUAta0Z8ZQ5LvMAAAAASUVORK5CYII=\"","function Footer() {\n    return (\n        <footer className=\"footer\">\n            <h3 className=\"footer__title\">&copy; 2022 Mesto Russia</h3>\n        </footer>\n       \n        \n    );\n}\n    \nexport default Footer;\n\n\n/* Case for show only on homepage\nimport { Route } from 'react-router-dom';\n\nfunction Footer() {\n    return (\n        <Route path=\"/\">\n            <footer className=\"footer\">\n                <h3 className=\"footer__title\">&copy; 2022 Mesto Russia</h3>\n            </footer>\n        </Route>\n        \n    );\n}\n\nIn App.js in this case:\n{loggedIn && <Footer />} \n */","import {useState} from 'react';\nimport { Route, Link } from 'react-router-dom';\n\nfunction Register({onRegister}) {\n\n    const [userEmail, setUserEmail] = useState('');\n    function handleChangeUserEmail(e) {\n        setUserEmail(e.target.value);\n    }\n\n    const [userPassword, setUserPassword] = useState('');\n    function handleChangeUserPassword(e) {\n        setUserPassword(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        onRegister(\n            {\n                password: userPassword, \n                email: userEmail\n            }\n        );\n        setUserEmail('');\n        setUserPassword('');\n    }\n\n    return(\n        <div className=\"form\">\n        <h2 className=\"form__title\">Sign up</h2>\n        <form \n            onSubmit={handleSubmit}\n        >\n            <input \n                type=\"email\"\n                className=\"form__input\"\n                id=\"email-input\"\n                name=\"email\"\n                autoComplete=\"on\"\n                required\n                placeholder=\"Email\"\n                value={userEmail || ''}\n                onChange={handleChangeUserEmail}\n            />\n            <input \n                type=\"password\"\n                className=\"form__input\"\n                id=\"password-input\"\n                name=\"password\"\n                autoComplete=\"off\"\n                required\n                placeholder=\"Password\"\n                value={userPassword || ''}\n                onChange={handleChangeUserPassword}\n            ></input>\n            <button type=\"submit\" className=\"form__button\">Sign up</button>\n        </form>\n        <Route path=\"/sign-up\">\n            <div className=\"form__link\">\n                <Link className=\"form__link_sign\" to=\"sign-in\">Already registered? Sign in</Link>\n            </div>\n        </Route>\n    </div>\n        \n    )\n}\n\nexport default Register;\n\n/*<button className=\"form__login\">Уже зарегистрированы? Войти</button> */\n","import {useState} from 'react';\n\nfunction Login({onLogin}) {\n\n    const [userEmail, setUserEmail] = useState('');\n    function handleChangeUserEmail(e) {\n        setUserEmail(e.target.value);\n    }\n\n    const [userPassword, setUserPassword] = useState('');\n    function handleChangeUserPassword(e) {\n        setUserPassword(e.target.value);\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n\n        onLogin(\n            {\n                password: userPassword, \n                email: userEmail\n            }\n        );\n        setUserEmail('');\n        setUserPassword('');\n    }\n\n    return(\n        <div className=\"form\">\n            <h2 className=\"form__title\">Sign in</h2>\n            <form onSubmit={handleSubmit}>\n                <input \n                    type=\"email\"\n                    className=\"form__input\"\n                    id=\"email-input\"\n                    name=\"email\"\n                    autoComplete=\"on\"\n                    required\n                    placeholder=\"Email\"\n                    value={userEmail || ''}\n                    onChange={handleChangeUserEmail}\n                />\n                <input \n                    type=\"password\"\n                    className=\"form__input\"\n                    id=\"password-input\"\n                    name=\"password\"\n                    autoComplete=\"off\"\n                    required\n                    placeholder=\"Password\"\n                    value={userPassword || ''}\n                    onChange={handleChangeUserPassword}\n                ></input>\n                <button type=\"submit\" className=\"form__button\">Enter</button>\n            </form>\n        </div>\n    )\n}\n\nexport default Login","function InfoTooltip({ isOpen, onClose, message }) {\n    return (\n        <div className={isOpen ? `popup popup_type_infoTooltip popup_is-opened` : `popup popup_type_infoTooltip`}>\n            <div className=\"popup__container popup__container_infoTooltip\">\n                <button type=\"button\" className=\"popup__close popup__close_infoTooltip\" onClick={onClose}></button>\n                <img className=\"popup__container_image\" src={message.image} alt={message.image}/>\n                <h2 className=\"popup__title_sign\">{message.text}</h2>\n            </div>\n        </div>\n    )\n} \n\nexport default InfoTooltip;\n","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n    return (\n        <Route exact>\n            {\n                () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\n            }\n        </Route>\n    )\n};\n\nexport default ProtectedRoute;","export const BASE_URL = 'http://localhost:3005';\n\n// Сhecking the response from the server\nconst getResponse = (response) => {\n    if (response.ok) {\n        return response.json();\n    }\n    return Promise.reject(`Ошибка: ${response.status}`);\n}\n\nexport const register = (password, email) => {\n    return fetch(`${BASE_URL}/sign-up`, {\n        method: 'POST',\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({password: password, email: email})\n    })\n    .then(getResponse);\n}   \n\nexport const authorize = (password, email) => {\n    return fetch(`${BASE_URL}/sign-in`, {\n        method: 'POST',\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({password, email})\n    })\n    .then(getResponse);\n};\n\n// Token verification\nexport const getContent = (token) => {\n    return fetch(`${BASE_URL}/users/me`, {\n        method: 'GET',\n        headers: {\n            \"Accept\": \"application/json\",\n            \"Content-Type\": \"application/json\",\n            \"Authorization\" : `Bearer ${token}`,\n        }\n    })\n    .then(getResponse);\n};\n","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/fail.df8eddf6.svg\";","import { useState, useEffect } from 'react';\nimport {\n  Route,\n  Switch,\n  Redirect,\n  useHistory\n} from 'react-router-dom';\nimport api from '../../utils/Api';\nimport { CurrentUserContext } from '../../contexts/CurrentUserContext';\nimport kusto from '../../images/kusto.jpg';\nimport PopupWithForm from '../PopupWithForm/PopupWithForm';\nimport EditProfilePopup from '../EditProfilePopup/EditProfilePopup';\nimport EditAvatarPopup from '../EditAvatarPopup/EditAvatarPopup';\nimport AddPlacePopup from '../AddPlacePopup/AddPlacePopup';\nimport ImagePopup from '../ImagePopup/ImagePopup';\nimport Header from '../Header/Header';\nimport Main from '../Main/Main';\nimport Footer from '../Footer/Footer';\nimport Register from '../Register/Register';\nimport Login from '../Login/Login';\nimport InfoTooltip from '../InfoTooltip/InfoTooltip';\nimport ProtectedRoute from '../ProtectedRoute/ProtectedRoute';\nimport * as auth from '../../utils/auth.js';\nimport success from '../../images/success.svg';\nimport fail from '../../images/fail.svg';\n\n\nfunction App() {\n\n  // For component Main:\n  const [isEditProfileOpen, setIsEditProfileOpen] = useState(false);\n  const handleEditProfileClick = () => {\n    setIsEditProfileOpen(true);\n  }\n\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  const [isEditAvatarOpen, setIsEditAvatarOpen] = useState(false);\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarOpen(true);\n  }\n\n  const [selectedCard, setIsSelectedCard] = useState({});\n  const [isPreviewPopupOpened, setIsPreviewPopupOpened] = useState(false);\n  function onCardClick(card) {\n    setIsSelectedCard(card);\n    setIsPreviewPopupOpened(true);\n  }\n\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = useState(false);\n  const [message, setMessage] = useState({image: \"\", text: \"\"});\n\n  // For component of models\n  const handleAllPopupsClose = () => {\n    setIsEditProfileOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarOpen(false);\n    setIsSelectedCard({});\n    setIsPreviewPopupOpened(false);\n    setIsInfoTooltipOpen(false);\n  }\n\n  // For the Main component, in order to then transfer it to the Card via props:\n  //1.\n  const [currentUser, setCurrentUser] = useState({name: 'Jacques-Yves Cousteau', about: 'Ocean explorer', avatar: kusto});\n  const [cards, setCards] = useState([]);\n  \n\n  //3.\n  const handleCardLike = (card) => {\n    // check again if there is already a like on this card\n     const isLiked = card.likes.some(i => i === currentUser._id); \n    // send a request to the API and get the updated card data\n    api.changeLikeCardStatus(card._id, isLiked)\n    .then((newCard) => {\n        //setCards((state) => state.map((c) => c === card._id ? newCard : c));\n        // or\n        const newCards = cards.map((c) => (c._id === card._id ? newCard.card : c));\n        setCards(newCards);\n  \n    })\n    .catch((err) => {\n      console.log(err);\n    })\n    \n  }\n\n  //4.\n  const handleCardDelete = (card) => {\n    api.deleteCard(card._id)\n    .then(() => {\n        setCards((state) =>  state.filter((c) => c._id !== card._id));\n    })\n    .catch((err) => {\n      console.log(err);\n    })\n  }\n\n  // For component EditProfilePopup\n  const handleUpdateUser = ({userName, userDescription}) => {\n    // send input values (what you entered)\n    api.patchUserInfo({userName, userDescription}) \n    .then((dataProfile) => {\n      setCurrentUser({\n        name: dataProfile.data.name, \n        about: dataProfile.data.about,\n        avatar: dataProfile.data.avatar, // in order to the avatar is also displayed\n        likes: dataProfile.data.likes,\n        _id: dataProfile.data._id, // in order to likes are put down after updating the profile\n      });\n    })\n    .then(() => {\n      handleAllPopupsClose();\n    })\n    .catch((err) => {\n      console.log(err);\n    }) \n  }\n\n  // For component EditAvatarPopup\n  const handleUpdateAvatar = ({ avatarUrl }) => {\n    // send what was entered into the input\n    api.patchAvatarUser({ avatarUrl })\n    .then((dataProfile) => {\n      setCurrentUser({\n        avatar: dataProfile.data.avatar,\n        // in order to profile data is also displayed\n        name: dataProfile.data.name, \n        about: dataProfile.data.about,\n        _id: dataProfile.data._id,\n      });\n    })\n    .then(() => {\n      handleAllPopupsClose();\n    })\n    .catch((err) => {\n      console.log(err);\n    })\n  }\n\n  // For component AddPlacePopup\n  function handleAddPlaceSubmit({ card_name, card_image_link }) {\n    api.postAddCard({ card_name, card_image_link })\n    .then(newCard => {\n      setCards([newCard.data, ...cards]);\n    })\n    .then(() => {\n      handleAllPopupsClose();\n    })\n    .catch((err) => {\n      console.log(err);\n    })\n  }\n\n  useEffect(() => {\n    const closeByEscape = (e) => {\n      if (e.key === 'Escape') {\n        handleAllPopupsClose();\n      }\n  }\n    document.addEventListener('keydown', closeByEscape)\n    return () => document.removeEventListener('keydown', closeByEscape)\n  }, [])\n\n  useEffect(() => {\n    const closeByOverlay = (e) => {\n      if(e.target.classList.contains('popup') || e.target.classList.contains('popup__close')) {\n        handleAllPopupsClose();\n      }\n    }\n    document.addEventListener('click', closeByOverlay)\n    return () => document.removeEventListener('click', closeByOverlay)\n\n  }, [])\n\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [userEmail, setUserEmail] = useState('email');\n  const history = useHistory();\n  \n\n  const authUser = (jwt) => {\n    return auth.getContent(jwt)\n    .then((res) => {\n      if (res) {\n        setLoggedIn(true);\n      }\n    })\n    .catch(err => console.log(err));\n  };\n\n  // If the user has a token in localStorage, check if the token is valid\n  useEffect(() => {\n    const jwt = localStorage.getItem('jwt');\n    if (jwt) {\n      authUser(jwt);\n    }\n  }, [loggedIn]);\n\n  // If the user is authorized, passes into the system\n  useEffect(() => {\n    if (loggedIn) {\n      history.push('/');\n      Promise.all([api.getUserInfo(), api.getCardsList()]) // get data from server\n      .then(([userData, cardsArray]) => { // we pass this data for rendering on the page, see the format in which they arrive in the console. If it was passed correctly, then it will be transferred to Main through props\n          setCurrentUser({\n            name: userData.data.name, \n            about: userData.data.about, \n            avatar: userData.data.avatar,\n            _id: userData.data._id,\n          });\n          setCards(cardsArray.data);\n          setUserEmail(userData.data.email);\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n    }\n  }, [loggedIn, history]);\n\n  const handleRegister = ({ password, email }) => {\n    return auth.register(password, email)\n    .then(dataReg => {\n       console.log(dataReg);\n      if (dataReg.data._id || dataReg.statusCode !== 400) {\n        history.push('/sign-in');\n        setIsInfoTooltipOpen(true);\n        setMessage({ image: success, text: 'You have successfully registered!' });\n      } else {\n        return\n      }\n    })\n    .catch( err => {\n      setIsInfoTooltipOpen(true);\n      setMessage({ image: fail, text: 'Something went wrong! Try again.' });\n      }\n    )\n  };\n\n  const handleLogin = ({ password, email }) => {\n    return auth.authorize(password, email)\n    .then(dataLog => {\n      if (dataLog.token) { \n        setLoggedIn(true);                          // in order to make ProtectedRoute display the route /\n        localStorage.setItem('jwt', dataLog.token);\n        history.push('/');                          // clear the state and redirect the user to the page /\n      } else {\n          return\n      }\n    })\n    .catch( err => {\n      setIsInfoTooltipOpen(true);\n      setMessage({ image: fail, text: 'Something went wrong! Try again.' });\n      }\n    )\n  };\n\n  const onSignOut = () => {\n    localStorage.removeItem('jwt');\n    setLoggedIn(false);\n    history.push('/login');\n  }\n\n  return (\n    <>\n      <div className=\"page\">\n        <CurrentUserContext.Provider value={currentUser}>\n          <Header \n              onSignOut={onSignOut}\n              email={userEmail}\n          />\n          <Switch>\n            <ProtectedRoute \n              exact \n              path=\"/\" \n              loggedIn={loggedIn} \n              component={Main} \n              onEditProfile={handleEditProfileClick}\n              onAddPlace={handleAddPlaceClick}\n              onEditAvatar={handleEditAvatarClick}\n              cards={cards}\n              onCardClick={onCardClick}\n              onLikeClick={handleCardLike}\n              onDeleteClick={handleCardDelete}\n            />\n            <Route path=\"/sign-up\">\n              <Register onRegister={handleRegister} />\n            </Route>\n            <Route path=\"/sign-in\">\n              <Login onLogin={handleLogin} />\n            </Route>\n            <Route>\n            {loggedIn ? <Redirect to=\"/sign-in\" /> : <Redirect to=\"/sign-up\" />}\n            </Route>\n          </Switch>\n\n          <Footer />\n          \n          <EditProfilePopup\n          isOpen={isEditProfileOpen}\n          onClose={handleAllPopupsClose}\n          onUpdateUser={handleUpdateUser}\n          >\n          </EditProfilePopup>\n\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={handleAllPopupsClose}\n            onAddPlace={handleAddPlaceSubmit}\n          >\n          </AddPlacePopup>\n\n          <PopupWithForm\n            name=\"confirm\"\n            id=\"formConfirm\"\n            title=\"Вы уверены?\"\n            button=\"button_confirm popup__save\"\n            titleButton=\"Да\"\n            onClose={handleAllPopupsClose}\n          />\n\n          <EditAvatarPopup\n            isOpen={isEditAvatarOpen}\n            onClose={handleAllPopupsClose}\n            onUpdateAvatar={handleUpdateAvatar}\n          >\n          </EditAvatarPopup>\n\n          <ImagePopup card={selectedCard}\n            onClose={handleAllPopupsClose}\n            active={isPreviewPopupOpened}\n          />\n\n          <InfoTooltip \n            isOpen={isInfoTooltipOpen}\n            onClose={handleAllPopupsClose}\n            message={message}\n          />\n        </CurrentUserContext.Provider>\n      </div>\n    </>\n  )\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n\n\n\n\n\n\n\n\n\n\n//basename=\"/\""],"sourceRoot":""}